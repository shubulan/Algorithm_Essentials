---
head:
  - - link
    - rel: stylesheet
      href: https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css
---
# 动态规划

动态规划是表格法。设计动态规划算法的基本步骤是

1. 分析题目结构特点
2. 实现递归算法
3. 实现自底向上的算法
4. 构造完整解（可选）

每一个步骤都有一些技巧和需要注意的点。

## 分析题目结构特点
要注意：
1. 动态规划本质上是一种选择，一定要想清楚自己的选择是什么
2. 子问题划分。这里有两种思想
    * 是否不重不漏的将大问题划分成了若干个子问题：$dp[i] = f(dp[i - k], ...)~for~all~k$
    * 是否更新了所有能更新的大问题: $dp[i + k]... = f(dp[i])~for~all~k$
3. 如果不能很好的划分成子问题的话， 考虑两个角度：
    * 状态是否足够？
    * 多个状态的更新方向是否一致？
4. 想不出来很正常。动态规划比较反人类，必须见得多了才有思路，毕竟都是前人花了很多心思总结的解决方案。

## 实现递归算法时
1. 递归终止条件

## 实现自底向上的算法时
1. 初始条件。这里有两种
    * 初始节点无意义
    * 初始节点有意义
2. 填表的方式是怎样的？
3. 解决表索引是可以平移的
2. 有的算法真的不太适合翻译成自底向上，记忆化搜索蛮好。

构造完整解时，要注意
1. 你的选择到底是什么

## 闫氏 DP 分析法
在分析 DP 问题时，可以考虑闫氏 DP 分析法。

状态表示
    * 集合: 当前状态表示
    * 属性：大小/最优值

状态计算
    * 将集合不重不漏的分割

## 动态规划主要分为以下几种模型

* 背包模型
* 线性
* 区间
* 状压
* 树形
* DAG
* 数位

* 插头
* 动态
* 概率

## 个人想法
动态规划有两个最大的难点，个人总结如下
难点一：状态定义
1. 学习经典状态定义
2. 关注选择：
3. 从第一维开始想，如果在当前的状态定义下，没能清晰分解出子问题，往往意味着状态定义维度不够。

难点二：初值或者递归终止条件的思考
1. 关注有意义的初值
2. 无意义的初值，如果没能力可以忽略。如果有能力，考虑的方向是能否正确的更新有意义的边界。


难点三：动态规划的优化
前两点想清楚了的，优化是不难的。但也有个别变态的，例如：多重背包问题的单调队列优化